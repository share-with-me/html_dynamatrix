<!--Naive implementation to count the number of elements in various ranges of given tsv that will help in evaluating the pie chart!-->
<!DOCTYPE html>
<head>
	<title>D3 representation</title>
	<meta charset = "utf-8">
	<style type="text/css">
	table, th, td {
    border: 0.5px solid black;
}
	</style>
	<script type="text/javascript" src = "d3-master/d3.min.js"></script>
</head>

<body>

	<script type="text/javascript">
	var a=0,b=0,c=0,d=0,e=0;
	var f=0,g=0,h=0,i=0,j=0;
	var k=0,l=0,m=0,n=0,o=0;
	d3.tsv("data.csv", function(error,data){
			data.forEach(function(d){
				d.sepalLength = +d.sepalLength;
				d.sepalWidth = +d.sepalWidth;
				d.petalLength = +d.petalLength;
				d.petalWidth = +d.petalWidth;
				d.species = d.species;
				if(d.species == "versicolor"){

				if(d.sepalWidth <= 2.5) a+=1;
				if(d.sepalWidth>2.5 && d.sepalWidth<=3) b+=1;
            	if(d.sepalWidth>3 && d.sepalWidth<=3.5) c+=1;
            	if(d.sepalWidth>3.5 && d.sepalWidth<=4) d+=1;
            	if(d.sepalWidth>4) e+=1;
            }

            	if(d.species == "setosa"){

				if(d.sepalWidth <= 2.5) f+=1;
				if(d.sepalWidth>2.5 && d.sepalWidth<=3) g+=1;
            	if(d.sepalWidth>3 && d.sepalWidth<=3.5) h+=1;
            	if(d.sepalWidth>3.5 && d.sepalWidth<=4) i+=1;
            	if(d.sepalWidth>4) j+=1;
            }

            	if(d.species == "virginica"){

				if(d.sepalWidth <= 2.5) k+=1;
				if(d.sepalWidth>2.5 && d.sepalWidth<=3) l+=1;
            	if(d.sepalWidth>3 && d.sepalWidth<=3.5) m+=1;
            	if(d.sepalWidth>3.5 && d.sepalWidth<=4) n+=1;
            	if(d.sepalWidth>4) o+=1;
            }


			});

	function createTable(data, columns){
		var table = d3.select("body").append("table").attr("style","margin-left: 25%; margin-top: 20px;"); //Creating table

		var thead = table.append("thead");
		var tbody = table.append("tbody");

		thead.append("tr").selectAll("th").data(columns).enter().append("th").text(function(column){ return column;}) //Header row consists of all the column names which also form the header name values

		//Append all the rows now which are consistent with data
		var rows = tbody.selectAll("tr").data(data).enter().append("tr");

		var cell = rows.selectAll("td")
		.data(function(row){
			return columns.map(function(column){
				return {column : column, value: row[column]};
			});
		})
		.enter()
		.append("td")
		.attr("style", "font-family: Courier") // sets the font style
            .html(function(d) {
            	
            	return d.value; });

     
        return table;
 }
	var renderTable = createTable(data,["sepalLength","sepalWidth","petalLength","petalWidth","species"]);
	alert(a);
	alert(b);
	alert(c);
	alert(d);
	alert(e);
	alert(f);
	alert(g);
	alert(h);
	alert(i);
	alert(j);
	alert(k);
	alert(l);
	alert(m);
	alert(n);
	alert(o);
	

});

</script>

</body>

</html>